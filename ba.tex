\documentclass[a4paper,oneside]{scrartcl}

\usepackage[utf8x]{inputenc}
\usepackage{amsmath, amsthm, amssymb, amsrefs}
\usepackage[ngerman]{babel}
\usepackage{makeidx, graphicx, tikz, units, pgfplots, fancyhdr, verbatim}
\usepackage{wrapfig, caption, listingsutf8, xcolor}

\usetikzlibrary{trees}
\usetikzlibrary{decorations.pathmorphing}
\usetikzlibrary{decorations.markings}

\newboolean{sources}
\setboolean{sources}{false}

\pagestyle{fancy}
\fancyhf{}
\rhead{\scriptsize Benedikt Sauer --- Datenanalyse für das ATLAS-Experiment}
\rfoot{\thepage}
\renewcommand{\headrulewidth}{0.1pt}

\newcommand{\src}[1]{\texttt{#1}\ref{src:#1}}

\author{Benedikt Christian Sauer}
\title{Datenanalyse für das ATLAS-Experiment}

\tikzset{
    electroweak/.style={dashed, draw=red},
    positive/.style={postaction={decorate},
            decoration={markings,mark=at position .55 with {\arrow{<}}}},
    negative/.style={postaction={decorate},
            decoration={markings,mark=at position .55 with {\arrow{>}}}},
    particle/.style={solid, draw=black},
}

\lstset
{
  language=C++,
  showstringspaces=false,
  captionpos=b,
  tabsize=4,
  numbers=left,
  numberstyle=\footnotesize,
  stepnumber=5,
  breaklines=true,
  basicstyle=\scriptsize\ttfamily,
  inputencoding=utf8/latin1,
  commentstyle=\color{blue},
  stringstyle=\color{green},
  keywordstyle=\color{red}
}

\DeclareMathSymbol{,}{\mathpunct}{letters}{"3B}
\DeclareMathSymbol{.}{\mathord}{letters}{"3B}
\DeclareMathSymbol{\decimal}{\mathord}{letters}{"3A}

\pgfkeys{/pgf/number format/.cd,
    fixed,
    precision=3,
    set thousands separator={}}

\setlength{\parindent}{0pt}
\setlength{\parskip}{8pt}

\makeindex

\begin{document}
    \begin{titlepage}
        \date{\vspace{1cm} Universität Bonn \\ August 2009}
    \end{titlepage}
\maketitle
\newpage
\tableofcontents
\newpage
%\subsection{Das Grid}
%\subsubsection{Grid-Frameworks}
%\begin{description}
%    \item[gLite]
%    \item[Ganga]
%\end{description}

\input{einleitung.tex}
\input{analyse.tex}
\input{ergebnisse.tex}

\begin{appendix}
  \section{Literatur}
  \begin{biblist}
    \bibselect*{quellen.ltb}
  \end{biblist}

  \ifsources
  \section{Kommentierte Quelltexte}
  \subsection{Hauptprogramm}
    \foreach \file/\desc in {
      analysis.hpp/Hauptanalyseklasse,
      analysis.cpp/Implementierung des Konstruktors, 
      filter.cpp/Implementierung der frühen Filterungen,
      loop.cpp/Implementierung der Hauptschleife,
      main.cpp/Hauptprogramm,
      particle.hpp/Hilfsklassen zur Handhabung der Teilchentypen
      }
    {
      \subsubsection{\file -- \desc}
      \label{src:\file}
      \lstinputlisting[language=C++]{analysis/src/\file}
    }

    Des Weiteren wurden im Programm der Header \verb'egammaPIDdefs.h' aus dem
    Athena-Projekt\cite{addr:athena} für die Auswertung der Elektronenqualität
    (zu finden im Unterverzeichnis \verb'athena') und aus
    Boost\cite{addr:boost} die Header \verb'progress.hpp', \verb'timer.hpp' und
    \verb'stringize.hpp' für eine nützlichere Ausgabe bzw.\ zur Vereinfachung
    des Codes verwendet, die wiederum \verb'noncopyable.hpp' benötigen, alles zu
    finden im Unterverzeichnis Boost.

  \subsection{Auswertungen}
    \subsubsection{analyze.sh}
    Führt das Programm auf allen relevanten Datensätzen mit verschiedenen
    Testkonfigurationen aus.
    \label{src:analyze.sh}
    \lstinputlisting[language=Bash]{analysis/analyze.sh}

    \subsubsection{normalize.py}
    Vereinigt und normiert die Datensätze auf eine feste Luminosität.
    \lstinputlisting[language=Python]{analysis/normalize.py}
  \fi

\end{appendix}

\end{document}
